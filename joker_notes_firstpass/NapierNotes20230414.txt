Napier: 04/14/2023

- Goals: Compare Context Online - Wrist/Normal Tested on Normal
 
- Experimenters: Hisham, Maddi

- Recording Start Time: ~10 am
- Recording Stop Time:   pm

- xPC Model: Rig_main_Cortical_Parasite_v2
- Recorded Array: Motor (Patient cable/cerebus)
- Data recorded: Spikes (250Hz highpass, RMS -4.5) + 2kSps 300-1000HzBPass + EMG 10ksps
- Drink: Apple Juice

- Params:
	* Movement Mask: [0,1,0,1,0]
	* Target Hold Time (OL/CL): 750/500
	* Target Scaling(OL/CL): 100
	* Juice Time: 90
	* Trial Timeout: 5000/10000
	* Auto Juice: 0
   	* Target Pos Style (OL/CL): 29
	* Visualization Style: MRP
	
-Decoders:
	nn0 - tcFNN Normal Context decoder [~0.55,~0.65]
	nn1 - tcFNN Wrist Context decoder
	nn2 - nn1 fine tuned on run 9 - with no intention estimation - for 500 iterations
	nn3 - nn2 fine tuned on run 11 - w/ no intention estimation - for 500 iterations
	nn4 - nn3 tuned on run 12 - same idea - 1000 iters this time
	nn5 - nn0 fine tuned on run 10 - same idea - 500 iters
	nn6 - nn5 '' '' run 14 - 500iters - corrs are super high here.
	
	nn7 - refit normally trained on run 10. not that many trials to refit on so giving 1000 iters instead
-Runs:	
	Run 1: TS29 - Calibration
	Run 2: TS29 - Warm-up
	
	Run 3: TS29 - 400 training (NORMAL)
	Run 4: TS29 - 100 validation (NORMAL)
	
	Run 5: TS29 - Calibration for Wrist
	Run 6: TS29 - 400 training (Wrist)
	Run 7: TS29 - 100 validation (Wrist)
	
	Run 8: TS29 - NN1 - It's a bit wobbly - I'm not sure it trained super well. Velocity componenet was at 0.98, not sure if that affects this - but going to set it to 1 and restart.
	
	Run 9: TS29 - NN1 150 Trials - Still pretty wobbly, it's working, but I'd like to evaluate what's going on a bit. Stopping the experiment 
	~STOPPING EXPERIMENT HERE~
	Instead - trying luis' idea from yesterday about fine tuning without intention estimation
	Run 10: TS29 - NN0 - Seems a lot less noisy - more controlleable but maybe with some bias? Maybe there was a noise problem with the normal one.
	
	Trying something luis mentioned yesterday - refit/fine tune but without correcting velocities - for nn1
	Run 11: TS29 - nn2 - that actually seems like, not bad - better than nn1 i think.
	Run 12: TS29 - nn3 - a bit noisy - some trouble stopping, but way smoother than the first nn for sure
	Run 13: TS29 - nn4
	Run 14: TS29 - nn5 - starting from the normal decoder this time
	Run 15: TS29 - nn6 - not bad 
	Run 16: TS29 - nn7 - normal refit but just on not many trials. clearly improved stopping ability.
Notes:
	got the decoders mixed up - so originally thought normal decoder was very noisy and wrist was doing fine - figured something might have been off so stopped the experiment - noise levels were ab the same (maybe slightly more variance in the wrist?) but was already doing the other experiment when i realized i had flipped the decoders.
	note - vel redist not on for refit training.
	good_chans_SBP = [1, 3, 4, 5, 7, 8, 9, 11, 14, 15, 17, 20, 22, 23, 24, 25, 26, 28, 29, 31, 33, 35, 36, 37, 38, 39, 40, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 71, 72, 73, 74, 75, 76, 78, 81, 82, 83, 84, 85, 86, 87, 88, 90, 91, 92, 94, 96];
	
	
	
	
	
	



