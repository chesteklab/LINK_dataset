Napier: 1/26/2021

- Goals: Measure online performance between 0 and 2 lag

- Experiment: Dylan, Sam, Hisham

- Recording Start Time: 9:45 am
- Recording Stop Time:   am

- xPC Model: Rig_main_Cortical_SBP_Spikes_CAR
- Recorded Array: Motor (Patient Cable)
- Data recorded: Spikes (250Hz highpass, RMS -4.5) + Raw + 2kSps 300-1000HzBPas continuous
- Drink: Apple Juice

- Params: 
	* Movement Mask: [0,1,0,1,0]
	* Target Hold Time (OL/CL): 500
	* Target Scaling(OL/CL): 100
	* Juice Time: 100
	* Trial Timeout: 10000
	* Auto Juice: 0
   	* Target Pos Style (OL/CL): 34
	* Visualization Style: MRS
	
-Decoders: 
	KF0: TrainOnline_Cortical_KalmanFilter_Multi('Joker','',1,false,[2,4],32,0,good_chans_SBP,good_chans_SBP,1,{'act_thresh',1},true); (optimal bin lag picked is 1)
	KF1: Same as KF0 but with 0 bin lag
	KF2: Same as KF0 but with 2 bin lag
	
-Runs:
	Run 1: Training, started around trial 5
	Run 2: KF1 (0 lag), online around trial 16
	Run 3: KF2 (2 lag), online around trial 15
	Run 4: KF1 again (0 lag), online around trial 11
	Run 5: KF2 again (2 lag), online around trial 17
	Run 6: Bad attempt with KF0, trying reloading (index finger would vibrate very fast back and forward when at neutral position)
	Run 7: KF0 (1 lag), online around trial 18 (some of the same problem in the beginning, but got better after trial 20)
	Run 8: Bad attempt, seems like pin is interferring with bend sensor
	Run 9: KF2 (2 lag), online around trial 15
	Run 10: KF0 again (1 lag), online around trial 12 (trying again in case pin messed up previous run)
	Run 11: KF2 again (2 lag), online around trial 12 (trying again in case pin messed up previous run, and for more data)

	
-Notes:
	Pin started having issue with bend sensor starting with run 6 (when switched to 1 vs 2 comparison). This may invalidate the data for Run 7.

	good_chans_SBP = [1:9,11,13,15,17,23,24,33,35,37:40,43,45:47,49:53,55:60,62,64,65,67:69,71:76,78:88,90:92,95,96];
