Napier: 10/01/2021

- Goals: Test Dual-State Linear Regression (more debugging)

- Experiment: Hisham, Dylan

- Recording Start Time: 9:35 am
- Recording Stop Time:  

- xPC Model: Rig_main_Cortical_Parasite
- Recorded Array: Motor (Patient Cable)
- Data recorded: Spikes (250Hz highpass, RMS -4.5) + Raw + 2kSps 300-1000HzBPas continuous
- Drink: Apple Juice

- Params: 
	* Movement Mask: [0,1,0,1,0]
	* Target Hold Time (OL/CL): 750/500
	* Target Scaling(OL/CL): 100
	* Juice Time: 100
	* Trial Timeout: 10000
	* Auto Juice: 0
   	* Target Pos Style (OL/CL): 29/34
	* Visualization Style: MRS
	
-Decoders:
	
-Runs:
	Run 1: Calibration + Warm-Up, followed by break
	Run 2: TS34 - 400 Training
	Run 3/4/5: TS34 - 500HT, debugging and stuff
	Run 6: TS34 - Let classification stabilize first, then start closed loop at ~30 trials, priors adjustment
	
-Notes:
	Expecting a lot of debugging.
	- Napier's undershirt had come off in the cage, going to put him under w/ dylan and eric later to put it back
	good_chans_SBP = [1:9,11,13,15,17,23,24,33,35,37:40,43,45:47,49:53,55:60,62,64,65,67:69,71:76,78:88,90:92,95,96];
	- Had to adjust some bugs in the math. Classifier seems to do a pretty good job, even though I think the priors are off (70/30 split almost seems like it should be reversed, he is moving most of the time) maybe will calculate those priors on the spot instead.
	- Also, seems like the linear regression decode itself is just not very good. would be worth adding time history/maybe switching to KF?
	- last thing i will try is letting the ratio of pm to pp stabilize first.
	
	- So classification works well in open loop, not so much in closed loop, tends to stick mainly to posture mode. I think this is directly a result of the targPM choice being wrong.
	- going to manually adjust this to see what happens, not the best solution but good to test the theory. kinda workd? need to retrain w correct priors
	